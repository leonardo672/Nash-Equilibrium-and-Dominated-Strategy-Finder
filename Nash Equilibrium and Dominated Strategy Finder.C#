using System;
using System.Linq;

namespace AHP
{
    class Program
    {
        static void Main(string[] args)
        {
           
            double[,] k1 = {
                {1, 3, 5},
                {1.0 / 3, 1, 2},
                {1.0 / 5, 1.0 / 2, 1}
            };

            double[,] k2 = {
                {1, 1.0 / 7, 1.0 / 3},
                {7, 1, 1.0 / 5},
                {3, 5, 1}
            };

            double[,] k3 = {
                {1, 1.0 / 2, 3},
                {2, 1, 1.0 / 5},
                {1.0 / 3, 5, 1}
            };

            double[,] k4 = {
                {1, 3, 1.0 / 5},
                {2, 1, 1.0 / 5},
                {1.0 / 3, 5, 1}
            };

          
            double[,] criteriaMatrix = {
                {1, 3, 1.0 / 5, 1.0 / 2},
                {1.0 / 3, 1, 1.0 / 5, 1.0 / 5},
                {5, 5, 1, 1},
                {2, 5, 1, 1}
            };

           
            double[] criteriaWeights = GetWeights(criteriaMatrix);
            double[] weightsK1 = GetWeights(k1);
            double[] weightsK2 = GetWeights(k2);
            double[] weightsK3 = GetWeights(k3);
            double[] weightsK4 = GetWeights(k4);

         
            double[][] allProviderWeights = { weightsK1, weightsK2, weightsK3, weightsK4 };

         
            double[] providerScores = new double[3];

         
            for (int i = 0; i < providerScores.Length; i++)
            {
                for (int j = 0; j < criteriaWeights.Length; j++)
                {
                    providerScores[i] += allProviderWeights[j][i] * criteriaWeights[j];
                }
            }


            int bestProviderIndex = Array.IndexOf(providerScores, providerScores.Max());

            string[] providers = { "Провайдер A", "Провайдер B", "Провайдер C" };
            Console.WriteLine("Лучший провайдер: " + providers[bestProviderIndex]);
        }

 
        static double[] GetWeights(double[,] matrix)
        {
            int size = matrix.GetLength(0);
            double[] sums = new double[size];

         
            for (int i = 0; i < size; i++)
            {
                for (int j = 0; j < size; j++)
                {
                    sums[i] += matrix[i, j];
                }
            }

            double[] weights = new double[size];
            for (int j = 0; j < size; j++)
            {
                double sum = 0;
                for (int i = 0; i < size; i++)
                {
                    sum += matrix[i, j] / sums[i];
                }
                weights[j] = sum / size;
            }

            return weights;
        }
    }
}
